<!DOCTYPE html>
<!--
	Assignment for Computer Vision
	-----------------
	by Qiu Zhe
	This project uses jQuery, flot w/ jquery,
	bootstrap for interactive purposes & presentation.
/-->
<html>
<head>
	<title>Computer Vision. Course Project by Qiu Zhe</title>
	<link href="./css/bt.css" rel="stylesheet"/>
<style>
.fullpagecol{
	height: 100%;
}
#placeholder{
      width:100%;
      height:200px;
}
.halfwid{
	width:40%;
}
</style>
	<script type="text/javascript" src="./extern/jq.js"></script>
	<script type="text/javascript" src="./extern/jq.flot.js"></script>
	<script type="text/javascript" src="./js/cv.js"></script>
	<script type="text/javascript" src="./js/brush.js"></script>
</head>
</head>
<body>
<div class="container-fluid fullpagecol">

<div class="row-fluid fullpagecol" style='background-color:rgba(233,255,233,0.4);border-radius:20px;width:100%;height:100%;'>
	<div class="span3 fullpagecol" style='background-color:rgba(255,255,233,0.4);'>
	<h2>Image to use:</h2>
	<img id="imgLoad" src="./img/leaf.jpg" alt="The Scream">
	<div class="demo-container">
			<div id="placeholder" class="demo-placeholder"></div>
		</div>
	
	<div>
		<form id="upload_form">
		<input type='file' id="imgInp" /><br/>
		<input type='checkbox' id='fullImg' checked="true"/>Process original image not scaled (slow)
		</form>
	</div>
	<hr/>
	</div>
	
	<div class="span5 fullpagecol" id='canvas_col' style='background-color:rgba(233,255,255,0.4);'>
	<h2>Canvas:</h2>
	<canvas id="myCanvas" style="border:1px solid #d3d3d3;position:relative;z-index:10;">
	Your browser does not support the HTML5 canvas tag.</canvas>
	
	</div>
	
	<div class="span3 fullpagecol pull-right" style='background-color:rgba(255,230,255,0.3);position:relative;z-index:100;'>
		<h2>Tools</h2>
		<div>
			Threshold: <input type='number' min='0' max='255' id="thresv" style='width:15%;'/>
		<a href="#" id="auto_thresholdImg" class='btn' style='width:15%;'>Otsu</a>
		<a href="#" id="thresholdImg" class='btn' style='width:20%;'>Threshold</a><br/>
		</div>
		<div>
			Radius:<input type='number' min='0' max='100' id="radius" value='1' style='width:15%;'/>
			&nbsp;&nbsp;
			<input type="radio" name="brush" value="Square" checked> Square &nbsp;
			<input type="radio" name="brush" value="Circle">Circle &nbsp;&nbsp;<br/>
			<button class='btn' id='viewBrush'>View Structuring Matrix</button>
			<br/>
			<button id='erodebtn' class='btn' style='width:45%;'>Erode</button>
			<button id='dilatebtn' class='btn' style='width:45%;'>Dilate</button>
		</div>
		<hr/>
			<button id='invbtn' class='btn' style='width:25%;height:40px;'>Negate</button>
			<button id='logbtn' class='btn' style='width:25%;height:40px;'>Log</button>
			<button id='invlogbtn' class='btn' style='width:25%;height:40px;'>InvLog</button><br/>
			 &gamma;:<input type="number" id="gamma" name="gamma" value="1" style="width:15%;" min="0.001" step="0.2">
			<button id='powerbtn' class='btn' style='width:35%;height:40px;'>Power</button><br/>
			<table style="width:90%;">
				<tbody>
				<tr>
					<td>Trim Percentile:</td><td><input type="range" id="trim" name="trim" value="3" style="width:70%;" min="0" max="99" step="1">%</td>
				</tr>
				<tr>
					<td>Context Radius:</td><td><input type="range" id="adaradius" name="adaradius" value="20" style="width:70%;" min="1" max="100" step="1" value="30"></td>
				</tr>
				<tr>
					<td>Grid Length:</td><td><input type="range" id="adagrid" name="adagrid" value="8" style="width:70%;" min="1" max="100" step="1" value="20"></td>
				</tr>
				</tbody>
			</table>
			<button id='histeqbtn' class='btn' style='width:85%;height:40px;'>Hist Eq</button><br/>
			<button id='naiveadahisteqbtn' class='btn' style='width:85%;height:40px;'>Naive Adaptive Hist Eq (Gridless)</button><br/>
			<button id='adahisteqbtn' class='btn btn-primary' style='width:85%;height:40px;'>Adaptive Hist Eq</button><br/>
			
		<br/>
		<a href="#" id="grayscaleImg" class='btn halfwid'>To Grayscale</a>
		<a href="#" id="savedImg" class='btn halfwid'>Save Image</a>
		<br/>
		<a href="#" id="reloadImg" class='btn halfwid'>Left to Right</a>
		<a href="#" id="switchImg" class='btn halfwid'>Right to Left</a><br/>
	</div>
</div>
</div>
<script type="text/javascript" src="./js/ui.js"></script>
<script type="text/javascript" src="./js/test.js"></script>
<script type="text/javascript">
	var url=location.href;
	if ( url.indexOf("file:")!== -1 )
		alert("You are running this demo on the local disk! \n"
			+ "This may break this demo due to the single-domain restriction"
			+ " enforced on Firefox/Chrome."+"\n"+
			"Please upload this to your server and try again!");
</script>
</body>
</html>

