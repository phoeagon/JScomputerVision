<!DOCTYPE html>
<!--
	Assignment for Computer Vision
	-----------------
	by Qiu Zhe
	This project uses jQuery, flot w/ jquery,
	bootstrap for interactive purposes & presentation.
/-->
<html>
<head>
	<title>Computer Vision. Course Project by Qiu Zhe</title>
	<link href="./css/bt.css" rel="stylesheet"/>
<style>
.fullpagecol{
	height: 100%;
}
#placeholder{
      width:100%;
      height:200px;
}
.halfwid{
	width:40%;
}
</style>
	<script type="text/javascript" src="./extern/jq.js"></script>
	<script type="text/javascript" src="./extern/jq.flot.js"></script>
	<script type="text/javascript" src="./js/cv.js"></script>
	<script type="text/javascript" src="./js/brush.js"></script>
</head>
</head>
<body>
<div class="container-fluid fullpagecol">

<div class="row-fluid fullpagecol">
	<div class="span3 fullpagecol">
	<h2>Image to use:</h2>
	<img id="imgLoad" src="./img/potato.png" alt="The Scream">
	<div class="demo-container">
			<div id="placeholder" class="demo-placeholder"></div>
		</div>
	</div>
	
	<div class="span5 fullpagecol" id='canvas_col'>
	<h2>Canvas:</h2>
	<canvas id="myCanvas" style="border:1px solid #d3d3d3;position:relative;z-index:-100;">
	Your browser does not support the HTML5 canvas tag.</canvas>
	
	<!--welcome splashes-->
	<div id="welcome_splash" style="background-color:rgba(255,255,200,0.5);position:absolute;left: 15%; top: 20%; width:70%;height:60%;z-index:200;">
		<table border="1" style='height:100%;'>
		<tr style='height:100px;'>
		<td colspan="2"><p style='font-size:90px;font-style:bold;'>DANGER</p></td>
		</tr>
		<tr>
		<td>
		<p style='font-size:40px;line-height:50px;'>
				This demo is known to BE SLOW, which may cause your CPU to overheat and system freezed. <br/>
				Click on this dialog to dismiss it.<br/>
		</p></td>
		<td>
				<b>Result:</b><br/>
				<img src='./img/potato.png' style='zoom:1;'>
				<img src='./img/potato_result.png' style='zoom:2;'>
		</td>
		</tr>
		</table>
		<p>
		<!--<button class='btn' style='width:98%;font-size:90px;height:100px;'>Ok, copy that!</button>-->
		</p>
	</div>
	<div id="progress_splash" style="background-color:rgba(255,200,200,0.5);position:absolute;left: 30%; top: 20%; width:40%;height:60%;z-index:200;display:none;">
		<p><img src='./img/pg.gif'></p>
	</div>
	<!--welcome splashes ends-->
	</div>
	
	<div class="span3 fullpagecol pull-right" style='background-color:rgba(255,230,255,0.3);position:relative;z-index:100;'>
		<h2>Tools</h2>
		<div>
			<form id="upload_form">
			<input type='file' id="imgInp" /><br/>
			<input type='checkbox' id='fullImg' checked="true"/>Process original image not scaled (slow)
			</form>
		</div>
		<hr/>
		<div>
		<a href="#" id="auto_thresholdImg" class='btn' style='width:90%;'>Otsu-Threshold</a><br/>
			Threshold: <input type='number' min='0' max='255' id="thresv" style='width:30%;'/>
		<a href="#" id="thresholdImg" class='btn'>Threshold</a><br/>
		</div>
		<hr/>
		<div>
			Radius:<input type='number' min='0' max='100' id="radius" value='1'/><br/>
			<input type="radio" name="brush" value="Square" checked> Square &nbsp;
			<input type="radio" name="brush" value="Circle">Circle &nbsp;&nbsp;
			<button class='btn' id='viewBrush'>View Structuring Matrix</button>
			<br/>
			<button id='erodebtn' class='btn' style='width:45%;'>Erode</button>
			<button id='dilatebtn' class='btn' style='width:45%;'>Dilate</button>
		</div>
		<hr/>
			<button id='potatobtn' class='btn btn-primary' style='width:95%;height:40px;'>Potato Demo</button>
		<br/>
		<a href="#" id="grayscaleImg" class='btn halfwid'>To Grayscale</a>
		<a href="#" id="savedImg" class='btn halfwid'>Save Image</a>
		<br/>
		<a href="#" id="reloadImg" class='btn halfwid'>Left to Right</a>
		<a href="#" id="switchImg" class='btn halfwid'>Right to Left</a><br/>
	</div>
</div>
</div>
<script type="text/javascript" src="./js/ui.js"></script>
<script type="text/javascript" src="./js/test.js"></script>
<script type="text/javascript">
	var url=location.href;
	if ( url.indexOf("file:")!== -1 )
		alert("You are running this demo on the local disk! \n"
			+ "This may break this demo due to the single-domain restriction"
			+ " enforced on Firefox/Chrome."+"\n"+
			"Please upload this to your server and try again!");
</script>
</body>
</html>

